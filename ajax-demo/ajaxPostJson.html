<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<div>
			<div>账号:<input id="usercode" type="text"></div>
			<div>密码:<input id="userpwd" type="text"></div>
			<div><button id="loginBtn">登录</button></div>
		</div>
		<script>
			document.getElementById('loginBtn').onclick=function(){
				let usercode=document.getElementById('usercode').value;
				let userpwd=document.getElementById('userpwd').value;
				let user={
					'usercode':usercode,
					'userpwd':userpwd,
				};//和实体bean层的属性要保持相同
				let xhr=new XMLHttpRequest();
				//注册事件，用来监听xhr的状态改变
				xhr.onreadystatechange = function(){
					if(xhr.readyState==4 && xhr.status==200){
						console.log(xhr.response);
					}
					
				}
				xhr.open('post',`http://localhost:8080/ajax-server/userinfo/loginjson`);
				xhr.setRequestHeader('Content-Type','application/json');
				xhr.send(JSON.stringify(user));
				
			}
		</script>
	</body>
</html>
